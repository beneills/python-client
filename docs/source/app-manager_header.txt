Useful commands
---------------

If ``-u`` is not specified default user is used. User need to have rights to reproduce this commands.

Installing applications
^^^^^^^^^^^^^^^^^^^^^^^

- If you want to install new JAR file with applications, you simply execute::

        genestack-application-manager -r root install my-version path/to/file.jar


- If you have your JAR file inside some folder, and this is the only JAR file inside the folder and all its subfolders,
  then you can specify path to the folder instead for the full path to JAR file

  **NOTE**: when you specify folder path instead of JAR path, then the folder and all its subfolders are searched for JAR files; if only one JAR is found â€” it is installed, otherwise error is reported.
  ::

    genestack-application-manager -r root install my-version path/to/folder


- If you want to install new JAR and also mark all applications from that JAR as stable for your current user, then you can use ``-s`` key of ``install`` command (application manager has default stable scope "user")::

    genestack-application-manager install -s my-version path/to/file.jar

- If you want to make applications globally stable, you should specify ``system`` scope with ``-S`` key::

    genestack-application-manager install -s -S system my-version path/to/file.jar

- Otherwise, you can use ``stable`` command after installing JAR file::

    JAR=path/to/file.jar
    VERSION=my-version
    genestack-application-manager install $VERSION $JAR
    for A in $(genestack-application-manager info $JAR | tail -n+3); do
        genestack-application-manager stable -S system $VERSION $A
    done

- If you want to reinstall your applications later with the same version (no matter if this version was marked as stable),
  you can simply use ``-o`` key of ``install`` command

  **NOTE:** key ``-o`` works exactly as removing old version before uploading new one, so there are two things to keep in mind:
  - key ``-o`` can be used to overwrite only your versions, because you cannot overwrite or remove versions uploaded by other users;
  - key ``-o`` removes global stable mark, so if you overwrite globally stable version, then after that no globally stable version will be available.
  ::

    genestack-application-manager install -o my-version path/to/file.jar

- Sometimes you need to upload JAR file with many applications and mark as stable only one application from that JAR.
  In this case you should use ``install`` and ``stable`` commands::

    genestack-application-manager install my-version path/to/file.jar
    genestack-application-manager stable my-version vendor/appIdFromJarFile

Removing all your applications
------------------------------

- If you want to remove all your applications, just enter the following command::

    for A in $(genestack-application-manager applications); do
        for V in $(genestack-application-manager versions -o $A); do
            genestack-application-manager remove $V $A
        done
    done

- If you want to remove only those your applications that were loaded from specific JAR file, then::

    JAR=path/to/file.jar
    for A in $(genestack-application-manager info $JAR | tail -n+3); do
        for V in $(genestack-application-manager versions -o $A); do
            genestack-application-manager remove $V $A
        done
    done

